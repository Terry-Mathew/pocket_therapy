{
  "meta": {
    "project": "PocketTherapy",
    "date": "2025-08-17",
    "prepared_by": "Generated by PocketTherapy AI"
  },
  "product_overview": "PocketTherapy is a mobile-first mental health application designed specifically for Gen Z users aged 18-25 facing anxiety and stress. It serves as a personal anxiety coach by enabling users to track their mood using a simple emoji scale, receive personalized CBT-based coping exercises powered by AI, get immediate crisis support, and gain insights into their mental health patterns. The app prioritizes accessibility, privacy, offline functionality, and easy crisis escalation, delivering bite-sized therapeutic interventions with a friendly and supportive user experience.",
  "core_goals": [
    "Provide rapid mood tracking with a 5-emoji selection system including trigger tags and notes.",
    "Deliver personalized, evidence-based cognitive behavioral therapy exercises for immediate anxiety relief.",
    "Offer immediate, always-free SOS crisis support with breathing exercises, emergency resources, and safety features.",
    "Enable continuous user engagement through personalized recommendations, daily reminders, and progress insights.",
    "Support offline-first usage ensuring core features are available without internet connectivity.",
    "Maintain strict privacy and compliance with GDPR, CCPA, and regional regulations focusing on local device crisis detection and secure data management.",
    "Create an intuitive UI with comforting colors, accessible typography, and anxiety-informed interaction patterns.",
    "Implement cost-effective AI integration with fallback mechanisms for personalized exercise suggestions.",
    "Ensure seamless navigation with crisis-first accessibility and smooth user flows."
  ],
  "key_features": [
    "Mood Tracking System: Five-level emoji mood selector with optional triggers and notes, integrated crisis keyword detection, and mood pattern analytics.",
    "Exercise Library and Player: A collection of breathing, grounding, and cognitive exercises with guided steps, audio-visual support, and offline capabilities.",
    "SOS Crisis Support: One-tap easy access to crisis interventions including soothing breathing exercises and emergency contact resources.",
    "Home Dashboard: Personalized home screen showing mood summaries, quick actions, streaks, and exercise recommendations.",
    "Onboarding Experience: Multi-step guided onboarding capturing mood baseline, user preferences, and notification setup.",
    "Authentication System: Secure Google OAuth and guest login with data migration capabilities.",
    "AI-Powered Recommendations: OpenAI GPT-3.5 Turbo backed personalized exercise suggestions with safety monitoring and rate limiting.",
    "Insights & Analytics: Visual mood trends, pattern detection, and personalized therapeutic insights.",
    "Settings & Privacy Controls: Comprehensive management of user preferences including notifications, privacy, audio, and accessibility features.",
    "Notification System: Contextual push notifications with therapeutic tone and smart nudges to encourage engagement.",
    "Offline-First Architecture: Local caching with sync queue for data sync and conflict resolution.",
    "Design System: Therapeutic color palette, typography, spacing, and interaction patterns optimized for mental health and accessibility.",
    "Navigation Architecture: Tab-based navigation with floating SOS button and crisis-safe modal screens."
  ],
  "user_flow_summary": [
    "App Launch & Onboarding: First-time users experience a multi-step onboarding capturing baseline mood and preferences; returning users access the home dashboard with offline mode fallback.",
    "Mood Check-in Flow: Users quickly log mood via emoji, add optional triggers/notes; real-time crisis detection may trigger emergency overlays; personalized exercise is recommended immediately after check-in.",
    "Exercise Flow: Users browse or search exercises by category, view exercise details, start sessions with audio and haptic guidance, track completion and provide ratings; interruptions are handled gracefully.",
    "SOS Crisis Flow: Accessible globally via floating button; offers immediate calming exercises, crisis resources and contact options with non-alerting UI; follow-up notifications are scheduled post-crisis.",
    "Insights & Progress: Users view mood trends, patterns, and receive tailored recommendations; encouragement provided on milestones.",
    "Settings & Privacy: Users configure notification preferences, privacy options, data export/deletion, accessibility features, and audio settings.",
    "Offline Usage & Sync: Users can fully operate core features offline with local storage; data syncs automatically upon reconnection with conflict resolution and migration from guest to authenticated accounts."
  ],
  "validation_criteria": [
    "Mood Check-in completes within 30 seconds for 90% of users with logged mood, triggers, and notes saved reliably.",
    "Personalized exercise recommendations are delivered within 5 seconds including AI fallback handling and maintain user engagement.",
    "SOS crisis support activates instantly on button press from any app screen with no delays and correct emergency resources per region.",
    "Offline capabilities allow full use of mood tracking and core exercises offline with data synchronization on reconnect.",
    "Accessibility standards met: WCAG 2.1 AA compliance, screen reader-friendly labels, minimum touch target sizes, high contrast and dynamic type support.",
    "Notifications are delivered contextually with correct therapeutic messaging and user-defined schedules.",
    "Authentication supports Google OAuth and guest mode with successful data migration and secure session management.",
    "All data access enforces row-level security ensuring users can only access their own information with anonymized analytics.",
    "Crisis detection correctly identifies immediate and moderate risk phrases with zero false negatives and minimal false positives.",
    "Design system usage is enforced: therapeutic colors, typography, spacing, and haptic/animation standards are consistently applied across the app."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React Native",
      "Expo",
      "Zustand",
      "Supabase",
      "PostgreSQL",
      "OpenAI API",
      "AsyncStorage",
      "React Navigation",
      "React Query",
      "Jest",
      "React Native Testing Library"
    ],
    "features": [
      {
        "name": "Mood Tracking System",
        "description": "5-emoji mood selection with crisis detection, notes, triggers, and pattern analysis",
        "files": [
          "src/components/MoodTracker/MoodPicker.tsx",
          "src/screens/MoodCheckInScreen.tsx",
          "src/services/moodStorage.ts",
          "src/components/mood",
          "src/screens/mood"
        ]
      },
      {
        "name": "Exercise Library & Player",
        "description": "Breathing, grounding, and cognitive exercises with guided sessions and offline support",
        "files": [
          "src/screens/ExercisesScreen.tsx",
          "src/screens/ExerciseSessionScreen.tsx",
          "src/screens/ExerciseCompletionScreen.tsx",
          "src/components/exercises",
          "src/services/exerciseSeedService.ts",
          "src/services/offlineExerciseManager.ts",
          "src/data/exercises.ts"
        ]
      },
      {
        "name": "SOS Crisis Support",
        "description": "Immediate crisis support with breathing exercises, emergency resources, and safety features",
        "files": [
          "src/screens/SOSScreen.tsx",
          "src/components/sos",
          "src/services/crisisDetection.ts",
          "src/services/crisisResourceService.ts",
          "src/services/sosSessionManager.ts",
          "src/data/crisisResources.ts"
        ]
      },
      {
        "name": "Home Dashboard",
        "description": "Personalized home screen with mood summary, quick actions, and insights",
        "files": [
          "src/screens/HomeScreen.tsx",
          "src/screens/home",
          "src/components/MoodInsights.tsx",
          "src/components/QuickRecommendations.tsx"
        ]
      },
      {
        "name": "Onboarding Experience",
        "description": "Multi-step guided onboarding with mood baseline and preferences setup",
        "files": [
          "src/screens/OnboardingScreen.tsx",
          "src/screens/onboarding",
          "src/components/FirstMicroSession.tsx"
        ]
      },
      {
        "name": "Authentication System",
        "description": "Google OAuth, guest mode, and secure user authentication",
        "files": [
          "src/components/auth",
          "src/screens/auth",
          "src/services/auth.ts",
          "src/services/guestMode.ts",
          "src/context/AuthContext.tsx"
        ]
      },
      {
        "name": "AI Integration",
        "description": "OpenAI-powered exercise recommendations and mood analysis with safety monitoring",
        "files": [
          "src/services/openAIService.ts",
          "src/services/ai",
          "src/services/exerciseRecommendationEngine.ts",
          "src/services/aiSafetyService.ts",
          "src/components/AISafetyMonitor.tsx",
          "src/components/CustomExerciseGenerator.tsx"
        ]
      },
      {
        "name": "Insights & Analytics",
        "description": "Mood pattern analysis, progress tracking, and therapeutic insights",
        "files": [
          "src/screens/InsightsScreen.tsx",
          "src/screens/insights",
          "src/services/analytics",
          "src/components/MoodInsights.tsx"
        ]
      },
      {
        "name": "Settings & Privacy",
        "description": "User preferences, privacy controls, notifications, and data management",
        "files": [
          "src/screens/SettingsScreen.tsx",
          "src/screens/settings",
          "src/components/PrivacyControls.tsx",
          "src/components/NotificationSettings.tsx",
          "src/components/AISettings.tsx"
        ]
      },
      {
        "name": "Notification System",
        "description": "Contextual notifications with therapeutic messaging and smart nudges",
        "files": [
          "src/services/notificationService.ts",
          "src/services/notificationContentService.ts",
          "src/services/smartNudgeService.ts",
          "src/services/notifications",
          "src/data/notificationTemplates.ts"
        ]
      },
      {
        "name": "Offline Support",
        "description": "Offline-first architecture with local storage and sync queue",
        "files": [
          "src/services/localStorage.ts",
          "src/services/storage.ts",
          "src/services/syncQueue.ts",
          "src/services/networkMonitor.ts",
          "src/components/OfflineExerciseStatus.tsx"
        ]
      },
      {
        "name": "Data Management",
        "description": "Data export/import, migration, and database seeding",
        "files": [
          "src/services/dataExportService.ts",
          "src/services/dataMigrationService.ts",
          "src/services/databaseSeedService.ts",
          "src/components/DataExportImport.tsx",
          "src/components/DataMigrationModal.tsx",
          "src/hooks/useDataMigration.ts"
        ]
      },
      {
        "name": "State Management",
        "description": "Zustand store with offline persistence and reactive updates",
        "files": [
          "src/store/index.ts",
          "src/store/minimal.ts"
        ]
      },
      {
        "name": "Navigation System",
        "description": "React Navigation with tab and stack navigators",
        "files": [
          "src/navigation/RootNavigator.tsx",
          "src/navigation/MainTabNavigator.tsx",
          "src/navigation/index.ts"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable therapeutic UI components with accessibility support",
        "files": [
          "src/components/ui",
          "src/components/common",
          "src/components/forms"
        ]
      },
      {
        "name": "Design System",
        "description": "Therapeutic colors, spacing, typography, and theme constants",
        "files": [
          "src/constants/index.ts",
          "src/constants/theme.ts",
          "src/screens/DesignSystemDemo.tsx"
        ]
      },
      {
        "name": "Performance Optimization",
        "description": "Device detection, memory management, and low-end device optimization",
        "files": [
          "src/utils/performanceOptimization.ts",
          "src/hooks/usePerformanceOptimization.ts"
        ]
      },
      {
        "name": "Testing Framework",
        "description": "Comprehensive testing with unit, integration, accessibility, and performance tests",
        "files": [
          "src/__tests__",
          "src/test/setup.ts",
          "src/test/utils.tsx",
          "src/test/accessibility.test.utils.ts"
        ]
      },
      {
        "name": "Type Definitions",
        "description": "Comprehensive TypeScript interfaces and types",
        "files": [
          "src/types/index.ts"
        ]
      },
      {
        "name": "Utility Functions",
        "description": "Helper functions for validation, formatting, and common operations",
        "files": [
          "src/utils/index.ts"
        ]
      }
    ]
  }
}
